<head>
  <title>IELM Team 4 Web Server</title>
</head>

<template name="mainLayout">
    <!--<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic,900,900italic'-->
          <!--rel='stylesheet' type='text/css'>-->
    <div class="ui fixed inverted menu">
        <div class ="ui container">
            <div class = "{{#if currentRouteIs "/"}}active {{/if}} item" id = "logs">Logs</div>
            <div class = "{{#if currentRouteIs "/upload"}}active {{/if}} item" id = "upload">Upload SKU</div>
            <div class = "{{#if currentRouteIs "/ocr"}}active {{/if}}item" id = "skupage">Process OCR Result</div>
        </div>
    </div>
    <div class = "ui grid container">
        <div class="one column row">
            <div class="column"></div>
        </div>
        <div class="one column row">
            <div class="column">
                {{>Template.dynamic template=mainContent}}
            </div>
        </div>
        <div class="one column row">
            <div class="column"></div>
        </div>
    </div>
    <div class="ui vertical footer segment">
        <div class="ui container" align="center">
            <p class="text-muted">2017 Kristian Suhartono for IELM 2100E</p>
        </div>
    </div>
</template>

<template name="home">
    <div class="homePage">
        <div class = "sixteen column">
            <h1 align = "center">OCR WebServer Log Manager</h1>
        </div>

        <div class="sixteen column">
            <table class="ui fixed table">
                <thead>
                <tr>
                    <th>Image Name</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                {{#each imageTimestamps}}
                    <tr>
                        <td>{{timestamp}}.jpg</td>
                        <td>Downloaded</td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>

    </div>
</template>

<template name="uploadcsv">
    <div class = "sixteen column">
        <h1 align = "center">Upload Files</h1>
    </div>
    <div class = "sixteen column">
        {{#unless uploading}}
            <input type="file" name="getcsvfile">
        {{else}}
            <p><i class="fa fa-spin fa-refresh"></i> Uploading files...</p>
        {{/unless}}
    </div>
    <div class="sixteen column">
        <table class = "ui fixed table">
            <thead>
            <tr>
                <th>SKU Code</th>
                <th>Attribute Value 1</th>
                <th>Attribute Value 2</th>
                <th>Product Description</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody>
            {{#each skuData}}
                <tr>
                    <td>{{SkuCode}}</td>
                    <td>{{UniqloAttrValue1}}</td>
                    <td>{{UniqloAttrValue2}}</td>
                    <td>{{product_description}}</td>
                    <td>{{receive_qty}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</template>

<template name="ocr">
    <div class ="sixteen column">
        <h1 align = "center">OCR Result Processing</h1>
    </div>
    <div class = "sixteen column">
        <p></p>
    </div>
    <div class = "sixteen column">
        {{#unless uploading}}
            <input type="file" name="getocrdata">
        {{else}}
            <p><i class="fa fa-spin fa-refresh"></i> Uploading files...</p>
        {{/unless}}
    </div>
    <div class = "sixteen column">
        <p></p>
    </div>
    <div class="sixteen column">
        <div class="ui message">
            <p>Received input: <strong>{{outputString}}</strong></p>
        </div>
    </div>
    <div class="sixteen column">
        <table class = "ui fixed table">
            <thead>
            <tr>
                <th>SKU Code</th>
                <th>Attribute Value 1</th>
                <th>Attribute Value 2</th>
                <th>Product Description</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody>
            {{#each searchResult}}
                <tr>
                    <td>{{SkuCode}}</td>
                    <td>{{UniqloAttrValue1}}</td>
                    <td>{{UniqloAttrValue2}}</td>
                    <td>{{product_description}}</td>
                    <td>{{receive_qty}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</template>